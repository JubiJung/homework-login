# Naver login (2024/05/11)

![image](https://github.com/JubiJung/homework-login/assets/124552101/a3d64a5b-5199-412e-9132-f051274d04dc)


### 마크업

이번 과제를 하면서 우선 구조를 어떻게 짜는게 좋을지 고민을 해봤다.
![image](https://github.com/JubiJung/homework-login/assets/124552101/243fa6ea-81f9-4152-bb40-a0f3e8c408e1)

처음 시작할 때 이 정도로 짜봤고, 간단하게 각 요소를 어떻게 구현할 것인지 정리했다.

마크업을 할 때 가장 고민스러웠던 부분은 역시 내가 로그인 옵션으로 지정한 로그인 상태유지/IP 보안 부분이 아닐까 싶다.
처음엔 두개를 리스트로 묶는게 맞나? 고민을 많이 했다. 그러나 내가 최종적으로 리스트 태그를 선택한 이유는 우선 둘 다 로그인 시 사용자가 지정할 수 있는 옵션들이라는 점이다.
때문에 해당 옵션들을 공통된 그룹으로 묶어줄 수 있다고 판단했다. 그래서 리스트 태그를 사용하여 마크업 하였다.
그리고 IP 보안 토글 부분이다. 이 부분을 구현하는게 가장 힘들었다. 결국 나는 체크박스를 사용했으나, 이 과정에서 수많은 고민을 했다.
우선 내가 고려한 사항은

1. 사용자가 스크린 리더를 통해 ON/OFF 상태를 알 수 있을 것.
2. ON/OFF를 키보드를 통해 접근 및 상태 전환 가능하게 할 것.

이것이 주된 사항이었다.

그래서 이 ON/OFF 라는 기능이 기본적으로 어떤 동작을 통해 이루어져야 하는지 고민을 했다.
우선 해당 기능은 사용자와 클릭으로 상호작용 하는 기능이다.
HTML에서 사용자와 클릭으로 상호작용 할 수 있는 요소는 button, a(굳이 따져 본다면), checkbox가 있었다.
이 중 a태그는 아무래도 링크로 이동시키기 때문에 제외했다. 그러면 button과 checkbox가 있는데, 처음엔 button을 고려했다.

그러나 버튼을 사용한다면 고려할 점은

1. 스크린 리더 사용자에게 ON/OFF 상태를 어떻게 전달할 것인가?
2. HTML과 CSS로 버튼이 클릭된 상태를 어떻게 인식할 것인가?
3. 클릭된 상태를 인식한다 해도 화면에 어떻게 ON/OFF를 전환시켜 보여줄 것인가?

이렇게 도달하게 되었다.


우선 첫번째 사항은 버튼은 어떤 속성을 부여할 수 없었다. 가능했다 하더라도 만약 ON버튼에서 OFF버튼으로 바뀔 때 HTML과 CSS만으로 전환된 상태를 어떻게 파악할 수 있을까. 하는 생각이 들었다. 때문에 2번과 3번 문제도 불가능했다.

그래서 결국 선택한 것은 checkbox였다.
최종적으로 선택할 수 밖에 없던 이유는

1. 그나마 ON/OFF 상태를 체크박스 해제/선택됨 상태를 통해 전달할 수 있음.
2. 체크박스가 해제/선택된 상태를 통해 토글을 구현할 수 있다.

이러한 점 때문이었다.

나는 내 웹 페이지가 스크린리더 사용자에게 어떻게 들릴지 더 명확하게 확인하고 싶었다.
그래서 크롭 확장 기능인 크롬복스를 설치하여 내가 구현한 페이지의 스크린리더를 확인하였다. 
![image](https://github.com/JubiJung/homework-login/assets/124552101/d77996de-aa6c-4308-85de-f6b21d492b76)
완벽하게 구현되진 않았겠으나, checkbox로 우려했던 부분은 체크/해제됨 보이스로 전달되는 것 같았다. 애초에 ON/OFF여서 켜짐/꺼짐이 적합했을거라 판단했기 때문에 완벽한 의미전달은 되지 못할 것 같지만 이정도를 절충안으로 찾았다.

---

### 스타일링

- 주로 쓰는 색깔들은 변수로 저장하여 스타일링 변경이 있을 시 좀 더 간단하게 변경할 수 있게 하였다.

- 그리고 페이지 내에 에이전트 스타일링을 해제하기 위해 상단에 이에 따른 스타일링을 설정하였다.

- 화면에는 불필요하지만, 스크린 리더 사용을 고려해 sr-only 클래스를 사용하기 위해 화면에 보이지 않도록 따로 스타일링을 하였다. 그래서 화면에 보이진 않는 헤딩요소들, fieldset의 legend, label 요소는 sr-only 클래스를 부여하였다.

- width크기를 따로 설정하기 보다는 요소 크기에 맞추기 위해 flex를 주로 사용하였다. main영역에 너비 값이 생겨서 h1에 margin auto를 사용해 가운데 정렬을 하였다. 그리고 마크업 순서를 화면 순서와 맞추기 위해 로그인 옵션 리스트에 order값 1을 부여하였다.

- 로그인 폼요소를 묶은 filedset 또한 임의로 width값을 고정값으로 지정하지 않기 위해 flex를 사용하였다. 그리고 예시 화면 배치와 같이 세로로 정렬하기 위해 column속성을 사용해서 세로 배치를 하였다.

- 그리고 모바일용 리스트 정렬을 설정할 때 처음엔 float 속성을 사용하여 로그인 상태유지는 float: left, IP보안은 float: right를 생각했다. 그러나 굳이 나눠서 작성하기 보다는 flex를 사용해서 justify-content: right 속성을 사용하였다.

  - 이때 end와 right 중 고민했다. 둘 다 화면에 보여지는 건 같았고 사실 내 상황에선 어느 걸 사용해도 크게 다르지 않을거라고 생각했다. 그러나 의미상 end보다는 화면의 오른쪽에 정렬되어 있다고 보고 right 속성을 사용하였다.

- 리스트의 각 input 스타일링이다. 체크박스를 화면에 보여주지 않고 대신 이미지를 사용하기 위해 label 태그에 background-image로 로컬 이미지를 적용하였다. 그리고 처음에 키보드 접근으로 탭과 스크린리더가 엉뚱한 곳을 가리켰는데, 이를 해결하기 위해 크기를 설정하고 position: absolute로 normal flow에서 제외시켰다.

- 또한 가장 고민스러웠던 부분은 마크업과 마찬가지로 IP 보안이다. 해당 부분은 background-image가 아닌 텍스트 요소였고, label 요소에 텍스트 요소를 추가적으로 넣기 위해 적용할 수 건 무엇일지 고민했다.

  - 처음에 생각했던건 label 요소에 title 속성으로 IP 보안을 주고 label 내부 텍스트로는 ON/OFF를 넣어서 스크린리더가 title을 읽게 할 수는 없을까? 하는 생각이었다. 그러나 스크린리더는 label 내부의 텍스트 요소를 우선하여 읽었고 title 속성값은 무시했다.

  - 그래서 결국 ::after 가상 요소를 고려하게 되었다. 가상 요소는 화면에서 읽을 수 없지 않나, 생각했으나 label과 input이 연결되어있기 때문에 스크린리더가 input checkbox를 기준으로 체크/해제됨 음성이 나오는 것을 확인했다. 또한 ON/OFF 위치상 IP 보안 텍스트 뒤쪽에 있기 때문에 ::before가 아닌 ::after를 사용하였다. 그리고 체크박스가 체크/해제됨 에 따라 ::after 요소의 content 속성을 이용해 내부 텍스트를 바꿔주었다.

  - 하지만 처음에 이를 적용할 때 잘 되지 않았다. ul 내의 내 마크업은 로그인 상태유지 리스트, IP 보안 리스트로 나뉘고 로그인 상태유지 리스트는 label태그, input태그 순서로 마크업하였고 IP 보안 리스트는 이와 반대 순서로 마크업 하였다.

  - 이유는 로그인 상태유지 부분은 화면에 체크박스가 먼저 나왔고, IP 보안은 체크박스가 나중에 나왔기 때문이다. 그런데 로그인 상태유지 리스트는 label과 input이 잘 연결되었고, IP 보안은 그렇지 않았다. label 부분을 눌러도 체크박스가 체크되지 않았다. 검색을 해도 답을 찾을 수 없어서 로그인 상태유지 부분의 코드를 복사하여 클래스만 바꿔서 다시 구현했더니 잘 작동하였다. 혹시 싶어서 다시 되돌리고 IP 보안 리스트의 마크업 순서를 바꿔보니 작동하는 것이었다......
이 문제는 여전히 이유를 찾지 못했다...

- 그리고 해당페이지에 데스크탑 환경에 따라 바뀌는 스타일링을 부여하기 위해 미디어 쿼리를 사용하였다. IP 보안 리스트가 모바일에선 보이지 않고 데스크탑 환경에서는 보이게 설계되어 있었다. 그래서 모바일을 기준으로 작성한 코드에는 해당 요소를 display: none으로 설정하여 돔 요소에서 삭제시켰다. 그리고 미디어 쿼리에서는 display: inline-block을 사용하여 한줄에 로그인 상태유지 리스트와 나란히 두면서 화면에 다시 보여지게 하였다. 그리고 기존에 있던 로그인 상태유지 리스트와 IP 보안을 각각 로그인 영역 양 끝에 배치하기 위해 justify-content: space-between 요소를 사용하였다.

- 또한 데스크탑 환경에서는 로그인 영역이 기본값인 왼쪽으로 정렬되어 있다. 이를 가운데 정렬하기 위해 margin: 0 auto 속성을 사용하였다.

---

### 아쉬운 점

- 로그인 상태유지 리스트 부분의 배경 요소가 리스트 높이에 맞춰 잘려 보이는 것을 알 수 있었다. 이 부분을 display: inline-block으로 설정하고 height 고정값을 주는 것으로 해결했으나, 좀 더 적절한 해결책이 있을 것 같다.

- 앞서 말했듯, IP 보안 리스트 부분에 label과 input 위치가 서로 반대로 된 것이 무슨 영향이 있는지 궁금하지만 해결하지 못하였다.

---

### 궁금한 점

- 스크린 리더를 사용할 때 내가 화면상 보여지지 않게 가린 부분도 포커싱이 되던데, 엉뚱한 곳에 포커싱이 되는 등 적절하게 되진 않았다. 혹시 이걸 개선할 방법이 있을까?
